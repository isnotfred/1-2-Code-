<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EchoPoint</title>
    <link rel="stylesheet" href="style.css">
    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/dark.css">
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="logo-section">
            <img src="assets/logo/logo.png" alt="Logo" class="logo">
            <span class="app-title">ECHOPOINT</span>
        </div>
        <button class="menu-toggle" id="menu-toggle">‚ò∞</button>
        <div class="nav-links">
            <a href="javascript:void(0)" id="helpbtn">Help</a>
            <a href="javascript:void(0)" id="aboutbtn">About Us</a>
            <a href="javascript:void(0)" id="termsbtn">Terms</a>
        </div>
    </nav>
    
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <button class="close-btn" id="close-sidebar">‚úï</button>
        <a href="javascript:void(0)" id="helpbtn-sidebar">Help</a>
        <a href="javascript:void(0)" id="aboutbtn-sidebar">About Us</a>
        <a href="javascript:void(0)" id="termsbtn-sidebar">Terms</a>
    </div>

    <div id="sidebar-overlay"></div>

    <!-- Main Content -->
    <div class="container">
        <div class="alarm-section">
            <h2>Set Alarm</h2>
            <div class="input-group">
                <label for="date-input">Pick Date</label>
                <input type="date" id="date-input" />

                <label for="time-input">Pick Time</label>
                <input type="time" id="time-input" />
            </div>

            <div class="home-display">
                <label>Your Current Location (Home):</label>
                <div id="home-display-text">Detecting...</div>
            </div>

            <div class="input-group">
                <label for="prep-time">Preparation Time (minutes):</label>
                <input type="number" id="prep-time" placeholder="e.g. 30" value="30" min="0" step="1" inputmode="numeric" pattern="[0-9]*">

                <label for="buffer-time">Extra Buffer Time (minutes):</label>
                <input type="number" id="buffer-time" placeholder="e.g. 10" value="10" min="0" step="1" inputmode="numeric" pattern="[0-9]*">
            </div>
            
            <div class="map-section">
                <h3>Search Destination</h3>
                
                <input type="text" id="destination-input" placeholder="Enter destination" />
                <div id="destination-suggestions" class="suggestions-box"></div>
                
                <div id="map-destination-display">No destination selected yet.</div>
            </div>
            
            <button id="save-btn">Save Alarm</button>
            <div id="saved-alarm" class="saved-alarm">
                NO CURRENT ALARM SET
            </div>
        </div>

    </div>

    <!-- Popups -->
    <div id="help" class="helppopup">
        <h2>How to Use</h2>
        <p>
            1Ô∏è‚É£ Choose your <strong>target arrival date and time</strong>.<br><br>
            2Ô∏è‚É£ Add <strong>preparation time</strong> and <strong>buffer/allowance time</strong> if needed.<br><br>
            3Ô∏è‚É£ Search to select your destination.<br><br>
            4Ô∏è‚É£ System auto-calculates the wake-up time using traffic, distance, and weather data.<br><br>
            5Ô∏è‚É£ View your ongoing alarm after saving.<br><br>
            ‚úÖ Alarms in the past are not allowed.
        </p>
        <button id="closeHelpBtn">Close</button>
    </div>

    <div id="about" class="helppopup">
        <h2>About Us</h2>
        <p>
            We are BSIT 1-2 students.<br><br>
            <strong>Members:</strong><br>
            ‚Ä¢ James Angelo Bola√±o<br>
            ‚Ä¢ Frederick Orlain<br>
            ‚Ä¢ Xylon Arroyo<br>
            ‚Ä¢ Hero Miralles<br>
            ‚Ä¢ Randall Graida<br><br>
            This project solves unpredictable travel times by adjusting alarms dynamically.
        </p>
        <button id="closeAboutBtn">Close</button>
    </div>

    <div id="terms" class="helppopup">
        <h2>Terms and Conditions</h2>
        <p>
            1Ô∏è‚É£ Use valid inputs only.<br><br>
            2Ô∏è‚É£ Data isn't stored permanently.<br><br>
            3Ô∏è‚É£ We don't guarantee 100% accuracy in predictions.<br><br>
            4Ô∏è‚É£ Verify your alarms manually for important events.<br><br>
            5Ô∏è‚É£ Terms may change for improvements.<br><br>
            6Ô∏è‚É£ Unauthorized misuse of this concept is prohibited.
        </p>
        <button id="closeTermsBtn">Close</button>
    </div>

    <div id="alarm-popup" class="alarm-popup hidden">
        <h2>üö® WAKE UP!</h2>
        <p>Your optimized alarm time has arrived!</p>
        <button id="dismiss-alarm-btn">Dismiss Alarm</button>
    </div>

    <!-- JS placed at end -->
    <script src="script.js"></script>
    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <script>
        // Date Picker
        flatpickr("#date-input", {
            altInput: true,
            altFormat: "F j, Y",
            dateFormat: "Y-m-d",
            minDate: "today"
        });

        // Time Picker with scrollable input
        flatpickr("#time-input", {
            enableTime: true,
            noCalendar: true,
            altInput: true,
            altFormat: "h:i K",
            dateFormat: "H:i",
            time_24hr: false,
            allowInput: true,
            minuteIncrement: 1 
        });
    </script>
</body>
</html>
